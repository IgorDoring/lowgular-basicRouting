<section>
  <h1>User Details</h1>
  @if((user$ | async); as user){
  <h2>Personal Data</h2>
  <div class="card text-center mb-4">
    <div class="card-header">User</div>
    <div class="card-body">
      <h5 class="card-title">{{ user.email }}</h5>
      <p class="card-text">
        {{ user.name.firstname }} {{ user.name.lastname }}
      </p>
      <a
        [routerLink]="['/', 'edit', user.id]"
        routerLinkActive="router-link-active"
        class="btn btn-primary"
      >
        Edit
      </a>
    </div>
    <div class="card-footer"></div>
  </div>
  @if(userCarts$ | async; as carts){
  <h2>Carts list</h2>
  @for (cart of carts; track cart.id) {
  <div class="card text-center mb-3">
    <div class="card-header">Cart #{{ cart.id }}</div>
    <div class="card-body">
      <h5 class="card-title">Products</h5>
      <ul class="list-group">
          @for (product of cart.products; track $index) {
            <li class="list-group-item">ProductId: {{product.productId}}, Quantity: {{product.quantity}}</li>

        }
      </ul>
    </div>
    <div class="card-footer">
        {{cart.date | date }}
    </div>
  </div>
  } }@else {
  <p>Loading Cart...</p>
  } }@else{
  <p>Loading...</p>
  }
</section>
